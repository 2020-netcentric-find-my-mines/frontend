(this["webpackJsonpfind-my-mines"]=this["webpackJsonpfind-my-mines"]||[]).push([[0],{35:function(e,t,E){e.exports=E(74)},40:function(e,t,E){},41:function(e,t,E){},71:function(e,t){},74:function(e,t,E){"use strict";E.r(t);var n,a=E(0),o=E.n(a),c=E(33),A=E.n(c),l=(E(40),E(7)),_=E(15),r=E(1);function i(e){var t=function(t){console.log("SELECT_COORDINATE",t.target.dataset.x,t.target.dataset.y),e.emitEvent(n.SELECT_COORDINATE,{x:t.target.dataset.x,y:t.target.dataset.y})};if(!e.visible)return o.a.createElement("div",null,"Start game to create table!");for(var E=[],a=0;a<+e.height;a++){for(var c=[],A=0;A<+e.width;A++){var l="cell".concat(a,"-").concat(A),_=e.coordinate[6*A+a],r=void 0;r=_.isSelected?_.isBomb?"B":"E":"A",c.push(o.a.createElement("td",{key:l},o.a.createElement("button",{onClick:t,"data-x":A,"data-y":a},r)))}E.push(o.a.createElement("tr",{key:"row".concat(a)},c))}return o.a.createElement("table",null,o.a.createElement("tbody",null,E))}function T(e){return o.a.createElement("h3",null,"Timer: ",e.tick)}!function(e){e.CONNECTION="connection",e.DISCONNECT="disconnect",e.TICK="TICK",e.NEXT_PLAYER="NEXT_PLAYER",e.COORDINATED_SELECTED="COORDINATED_SELECTED",e.WINNER="WINNER",e.GAME_STATE_CHANGED="GAME_STATE_CHANGED",e.CURRENT_PLAYER="CURRENT_PLAYER",e.SELECT_COORDINATE_FEEDBACK="SELECT_COORDINATE_FEEDBACK",e.CREATE_GAME_FEEDBACK="CREATE_GAME_FEEDBACK",e.JOIN_GAME_FEEDBACK="JOIN_GAME_FEEDBACK",e.QUICK_MATCH_FEEDBACK="QUICK_MATCH_FEEDBACK",e.START_GAME_FEEDBACK="START_GAME_FEEDBACK",e.SET_BOARD_SIZE_FEEDBACK="SET_BOARD_SIZE_FEEDBACK",e.PAUSE_FEEDBACK="PAUSE_FEEDBACK",e.SET_NUMBER_OF_BOMB_FEEDBACK="SET_NUMBER_OF_BOMB_FEEDBACK",e.SET_MAX_PLAYER_FEEDBACK="SET_MAX_PLAYER_FEEDBACK",e.GET_CURRENT_PLAYER_FEEDBACK="GET_CURRENT_PLAYER_FEEDBACK",e.SELECT_COORDINATE="SELECT_COORDINATE",e.CREATE_GAME="CREATE_GAME",e.JOIN_GAME="JOIN_GAME",e.QUICK_MATCH="QUICK_MATCH",e.START_GAME="START_GAME",e.SET_BOARD_SIZE="SET_BOARD_SIZE",e.PAUSE="PAUSE",e.SET_NUMBER_OF_BOMB="SET_NUMBER_OF_BOMB",e.SET_MAX_PLAYER="SET_MAX_PLAYER",e.GET_CURRENT_PLAYER="GET_CURRENT_PLAYER"}(n||(n={}));E(41);var C=E(34),u=E.n(C);var s=function(){var e=Object(a.useState)({event:"",id:"",x:"",y:""}),t=Object(r.a)(e,2),E=t[0],c=t[1],A=Object(a.useState)(!1),C=Object(r.a)(A,2),s=C[0],m=C[1],R=Object(a.useState)(-1),O=Object(r.a)(R,2),S=O[0],D=O[1],M=Object(a.useState)([]),B=Object(r.a)(M,2),N=B[0],d=B[1],G=function(e){var t=Object(a.useState)(),E=Object(r.a)(t,2),n=E[0],o=E[1];return Object(a.useEffect)((function(){console.log("Connecting to WS...");var t=u()(e);o(t)}),[e]),{socket:n,emitEvent:function(e,t){n&&n.emit(e,t)}}}(("https://netcentric-architecture.herokuapp.com/","https://netcentric-architecture.herokuapp.com/")),v=G.socket,f=G.emitEvent;Object(a.useEffect)((function(){v&&(v.on(n.CREATE_GAME_FEEDBACK,(function(e){console.log("CREATE_GAME_FEEDBACK",e),console.log("Game ID: ",e.data.gameID)})),v.on(n.TICK,(function(e){D(e)})),v.on(n.JOIN_GAME_FEEDBACK,(function(e){console.log("JOIN_GAME_FEEDBACK",e)})),v.on(n.GAME_STATE_CHANGED,(function(e){console.log(e)})),v.on(n.START_GAME_FEEDBACK,(function(e){console.log("START_GAME_FEEDBACK",e),d(e.data.coordinates),e.isOK&&m(!0)})),v.on(n.NEXT_PLAYER,(function(e){console.log("NEXT_PLAYER",e)})),v.on(n.SELECT_COORDINATE_FEEDBACK,(function(e){console.log("SELECT_COORDINATE_FEEDBACK",e),e.isOK&&d(e.data.coordinates)})))}),[v]);var I=function(e){e.persist(),c((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))};return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Minimum Viable Product for Find My Mines"),o.a.createElement("p",null,"Check console log for debugging"),o.a.createElement(T,{tick:S}),o.a.createElement("p",null,"Table key: A for avalable, B for bomb, E for empty"),o.a.createElement("form",{onSubmit:function(e){switch(e.preventDefault(),console.log(E),E.event){case n.CREATE_GAME:f(n.CREATE_GAME,null),console.log("Emit CREATE_GAME");break;case n.JOIN_GAME:f(n.JOIN_GAME,E.id),console.log("Emit JOIN_GAME");break;case n.START_GAME:f(n.START_GAME,null),console.log("Emit START_GAME");break;default:console.error("Not available!")}}},o.a.createElement("select",{name:"event",value:E.event,onChange:I},o.a.createElement("option",{value:""},"---Select Event---"),o.a.createElement("option",{value:"CREATE_GAME"},"Create Game"),o.a.createElement("option",{value:"JOIN_GAME"},"Join Game"),o.a.createElement("option",{value:"QUICK_MATCH"},"Quick Match"),o.a.createElement("option",{value:"SELECT_COORDINATE"},"Select Coordinate"),o.a.createElement("option",{value:"START_GAME"},"Start Game"),o.a.createElement("option",{value:"disconnect"},"Disconnect")),o.a.createElement("input",{type:"text",name:"id",placeholder:"Game ID",value:E.id,onChange:I}),o.a.createElement("input",{type:"text",name:"x",placeholder:"X coordinate",value:E.x,onChange:I}),o.a.createElement("input",{type:"text",name:"y",placeholder:"Y coordinate",value:E.y,onChange:I}),o.a.createElement("button",null,"Submit")),o.a.createElement(i,{width:"6",height:"6",visible:s,coordinate:N,emitEvent:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.08b38207.chunk.js.map