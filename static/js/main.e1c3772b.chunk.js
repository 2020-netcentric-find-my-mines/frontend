(this["webpackJsonpfind-my-mines"]=this["webpackJsonpfind-my-mines"]||[]).push([[0],{124:function(e,t){},127:function(e,t,a){"use strict";a.r(t);var n,E=a(0),r=a.n(E),c=a(70),o=a.n(c),l=(a(83),a(20)),i=(a(84),a(14)),m=a(72),u=a(5),s=a(129),_=a(37),A=a(130),d=a(134),T=a(133);function C(){return r.a.createElement(m.a,{width:"full",height:"60%",align:"center",position:"absolute",justifyContent:"center"},r.a.createElement(u.a,{p:2},r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(s.a,null,"Mine Sweeper")),r.a.createElement(u.a,{my:4,textAlign:"left",justifyItems:"center"},r.a.createElement(_.a,null,r.a.createElement(A.a,{mb:"2"},"Enter your name:"),r.a.createElement(d.a,{type:"text",placeholder:"John",variant:"outline",width:"-32px"})),r.a.createElement(i.b,{to:"/game",style:{textDecoration:"none"}},r.a.createElement(T.a,{width:"full",mt:4,variantColor:"green",variant:"outline"},"Continue")))))}function g(e){var t=e.link,a=e.text;return r.a.createElement(i.b,{to:t,style:{textDecoration:"none"}},r.a.createElement(T.a,{variantColor:"green",variant:e.loading[0]===t?"solid":"outline",onClick:function(){switch(e.setLoading([t,!0]),t){case"/game/create":return console.log("Create");case"/game/join":return console.log("joinnnnn");case"/game/quick-game":return console.log("quickkkk")}},margin:"2"},a))}!function(e){e.CONNECTION="connection",e.DISCONNECT="disconnect",e.TICK="TICK",e.NEXT_PLAYER="NEXT_PLAYER",e.COORDINATED_SELECTED="COORDINATED_SELECTED",e.WINNER="WINNER",e.GAME_STATE_CHANGED="GAME_STATE_CHANGED",e.CURRENT_PLAYER="CURRENT_PLAYER",e.SELECT_COORDINATE_FEEDBACK="SELECT_COORDINATE_FEEDBACK",e.CREATE_GAME_FEEDBACK="CREATE_GAME_FEEDBACK",e.JOIN_GAME_FEEDBACK="JOIN_GAME_FEEDBACK",e.QUICK_MATCH_FEEDBACK="QUICK_MATCH_FEEDBACK",e.START_GAME_FEEDBACK="START_GAME_FEEDBACK",e.SET_BOARD_SIZE_FEEDBACK="SET_BOARD_SIZE_FEEDBACK",e.PAUSE_FEEDBACK="PAUSE_FEEDBACK",e.SET_NUMBER_OF_BOMB_FEEDBACK="SET_NUMBER_OF_BOMB_FEEDBACK",e.SET_MAX_PLAYER_FEEDBACK="SET_MAX_PLAYER_FEEDBACK",e.GET_CURRENT_PLAYER_FEEDBACK="GET_CURRENT_PLAYER_FEEDBACK",e.SELECT_COORDINATE="SELECT_COORDINATE",e.CREATE_GAME="CREATE_GAME",e.JOIN_GAME="JOIN_GAME",e.QUICK_MATCH="QUICK_MATCH",e.START_GAME="START_GAME",e.SET_BOARD_SIZE="SET_BOARD_SIZE",e.PAUSE="PAUSE",e.SET_NUMBER_OF_BOMB="SET_NUMBER_OF_BOMB",e.SET_MAX_PLAYER="SET_MAX_PLAYER",e.GET_CURRENT_PLAYER="GET_CURRENT_PLAYER"}(n||(n={}));var b=n;function v(e){var t=e.emitEvent;return r.a.createElement(T.a,{variantColor:"green",variant:"outline",onClick:function(){console.log("Emit START_GAME"),t(b.START_GAME,null)},margin:"2"},"Start Game")}function h(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(T.a,{variantColor:"orange",variant:"outline",onClick:function(){e.setSelectedTab(["",!1])},margin:"2"},"Back")),r.a.createElement(g,{link:"/game/create",text:"Create Room",isLoading:e.selectedTab[1],loading:e.selectedTab,setLoading:e.setSelectedTab,emitEvent:e.emitEvent}),r.a.createElement(g,{link:"/game/join",text:"Join Room",isLoading:e.selectedTab[1],loading:e.selectedTab,setLoading:e.setSelectedTab,emitEvent:e.emitEvent}),r.a.createElement(g,{link:"/game/quick-game",text:"Quick Game",isLoading:e.selectedTab[1],loading:e.selectedTab,setLoading:e.setSelectedTab,emitEvent:e.emitEvent}),r.a.createElement(v,{emitEvent:e.emitEvent}))}var O=a(131),R=a(17),S=Object(E.createContext)({}),f={width:-1,height:-1,id:"",started:!1,noBombs:-1,noBombsFound:-1,players:[],coordinates:[],tick:-1},B=function(e,t){for(var a=[],n=0;n<e;n++)for(var E=0;E<t;E++)a.push({x:n,y:E,isBomb:!1,isSelected:!1});return a},D=function(e,t){var a,n,E,r=t.type,c=t.payload;switch(r){case"SET_TICK":return Object(R.a)(Object(R.a)({},e),{},{tick:c});case"SET_GAME_ID":return Object(R.a)(Object(R.a)({},e),{},{id:c});case"INITIALIZE":return Object(R.a)(Object(R.a)({},e),{},{started:!0,width:c.boardWidth,height:c.boardHeight,noBombs:c.numberOfBombs,noBombsFound:c.numberOfBombsFound,players:c.players,coordinates:B(c.boardWidth,c.boardHeight)});case"COORDINATE_FEEDBACK":return Object(R.a)(Object(R.a)({},e),{},{coordinates:(a=e.coordinates,n=c,E=e.width,n.forEach((function(e){a[e.x+e.y*E]=e})),a)});default:return e}},p=function(e){var t=e.children,a=Object(E.useReducer)(D,f),n=Object(l.a)(a,2),c=n[0],o=n[1];return r.a.createElement(S.Provider,{value:{gameState:c,gameDispatch:o}},t)};function M(e){var t=Object(E.useContext)(S).gameState;if(!t.started)return r.a.createElement("div",null,r.a.createElement("h2",null,"Loading..."),r.a.createElement("p",null,"Make sure you create/join game before starting."));for(var a=function(t){console.log("SELECT_COORDINATE",t.target.dataset.x,t.target.dataset.y),e.emitEvent(b.SELECT_COORDINATE,{x:+t.target.dataset.x,y:+t.target.dataset.y})},n=[],c=0;c<36;c++){var o=void 0,l=t.coordinates[c];o=l.isSelected?l.isBomb?"\ud83d\udca3":"\u274c":"\ud83c\udfaf",n.push(r.a.createElement(T.a,{"data-x":c%t.width,"data-y":Math.floor(c/t.height),variantColor:"green",onClick:a},o))}return r.a.createElement(O.a,{templateColumns:"repeat(".concat(t.width,", 1fr)"),templateRows:"repeat(".concat(t.height,", 1fr)"),gap:1},n)}var N=a(6);function I(e){var t=Object(E.useContext)(S).gameState;return r.a.createElement("nav",null,r.a.createElement(u.a,null,r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/game"},t.started?r.a.createElement(N.a,{to:"/play"}):r.a.createElement(h,{selectedTab:e.selectedTab,setSelectedTab:e.setSelectedTab,emitEvent:e.emitEvent})),r.a.createElement(N.b,{path:"/play"},r.a.createElement(M,null)))))}var k=a(77),F=a.n(k);var L=a(27),K=a(132);function j(e){e.emitEvent}function y(e){var t=Object(E.useState)(""),a=Object(l.a)(t,2),n=a[0],c=a[1],o=e.emitEvent;return r.a.createElement(K.a,{align:"center"},r.a.createElement(s.a,null,"Join Room"),r.a.createElement(u.a,{margin:"5",maxWidth:"300px"},r.a.createElement(d.a,{placeholder:"Enter the game's ID",width:"-32px",value:n,onChange:function(e){c(e.target.value)}})),r.a.createElement(T.a,{margin:"1rem",onClick:function(){o(b.JOIN_GAME,n)}},"Join"))}var G=function(){var e=Object(E.useState)(["",!1]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=function(e){var t=Object(E.useState)(),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(E.useEffect)((function(){console.log("Connecting to WS...");var t=F()(e);r(t)}),[e]),{socket:n,emitEvent:function(e,t){n&&n.emit(e,t)}}}(("https://netcentric-architecture.herokuapp.com/","https://netcentric-architecture.herokuapp.com/")),o=c.socket,m=c.emitEvent;return console.log(o),r.a.createElement("div",null,r.a.createElement(i.a,{basename:"/"},r.a.createElement(L.a,null,r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/"},r.a.createElement(C,null)),r.a.createElement(N.b,{path:"/game"},r.a.createElement(I,{selectedTab:a,setSelectedTab:n,emitEvent:m}),r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/game/create"},r.a.createElement(j,{emitEvent:m})),r.a.createElement(N.b,{path:"/game/join"},r.a.createElement(y,{emitEvent:m})),r.a.createElement(N.b,{path:"/game/quick-game"},"Quick Game"))),r.a.createElement(N.b,{path:"/play"},r.a.createElement(M,{emitEvent:m}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(127)},83:function(e,t,a){},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.e1c3772b.chunk.js.map